<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>AgalarMC</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
html, body {
  margin:0; padding:0; height:100%; font-family:'Press Start 2P', monospace;
  color:#fff; text-align:center; overflow:hidden;
}
body::before {
  content:""; position:fixed; inset:0;
  background: var(--bg-image) no-repeat center center/cover;
  z-index:-2; opacity:0; animation:fadeIn 0.8s forwards;
}
@keyframes fadeIn { to { opacity:1; } }
body::after {
  content:""; position:fixed; inset:0;
  background:linear-gradient(var(--overlay-gradient));
  z-index:-1; opacity:0.85; transition:background 0.8s ease-in-out;
}
:root {
  --primary-color:#3498db;
  --overlay-gradient:135deg, #0a0f2ccc, #1b2b5bcc;
  --bg-image: url('https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/menu.jpg');
}

.screen {
  height:100%; width:100%;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  opacity:0; transition:opacity 0.6s ease; pointer-events:none; padding:10px; box-sizing:border-box;
}
.screen.active {opacity:1; pointer-events:all;}

h1 {font-size:1.8rem; margin-bottom:20px; color:var(--primary-color); text-shadow:0 0 8px #000;}
p {font-size:0.9rem; margin-bottom:20px; max-width:700px; text-shadow:0 0 5px #000; line-height:1.4; word-wrap:break-word;}

.btn {
  display:inline-flex; align-items:center; justify-content:center; gap:10px;
  padding:12px 20px; margin:5px; font-size:0.85rem; border:none; border-radius:10px;
  background-color:var(--primary-color); color:#fff; cursor:pointer; text-decoration:none;
  font-family:'Press Start 2P', monospace; transition: all 0.3s ease; box-shadow:0 0 10px #0008;
  flex-wrap:wrap;
}
.btn:hover {background-color:#fff; color:var(--primary-color); transform:scale(1.05);}
.btn img {width:24px; height:24px; object-fit:cover; border-radius:6px;}
.btn.discord img {border-radius:50%;}
.copied {background-color:#fff !important; color:var(--primary-color) !important;}
.back-btn {margin-top:20px; font-size:0.7rem; background-color:#444;}
.btn.server-btn {background-color:#00000099; color:white; padding:10px 16px; border-radius:12px;
  display:inline-flex; align-items:center; justify-content:center; font-size:0.85rem;
  box-shadow:0 0 6px #000; gap:8px; transition: transform 0.1s ease, background-color 0.2s ease;}
.btn.server-btn:active {transform:scale(0.95); background-color:#111111bb;}
.status-indicator {width:14px; height:14px; border-radius:50%; background-color:gray; display:inline-block;}

.launcher-section {display:flex; flex-direction:column; align-items:center; transition: all 0.4s ease; z-index:2;}
.launcher-drawer {max-height:0; overflow:hidden; transition:max-height 0.4s ease; width:100%; z-index:2;}
.launcher-drawer.open {max-height:240px;}
.launcher-drawer-content {display:flex; justify-content:center; gap:15px; flex-wrap:wrap; margin-top:5px;}
.launcher-option {
  display:inline-flex; flex-direction:column; align-items:center; justify-content:center; gap:4px;
  text-decoration:none; background-color:#1a2b5b; padding:8px; border-radius:6px;
  min-width:100px; flex:1 1 100px; word-wrap:break-word;
}
.launcher-option span {font-family:'Press Start 2P', monospace; font-size:0.8rem; color:#fff; text-align:center;}
.launcher-option small {font-size:0.6rem; color:#fff; text-align:center;}
.launcher-option img {width:40px; height:40px; border-radius:6px;}
.launcher-option:hover {transform:scale(1.05);}

footer{margin-top:10px; font-size:0.65rem;}

@media (max-width:600px){
  h1{font-size:clamp(1.3rem,5vw,1.8rem); margin-bottom:15px;}
  p{font-size:clamp(0.7rem,3.5vw,0.9rem); margin-bottom:15px;}
  .btn{padding:10px 16px; font-size:clamp(0.65rem,3vw,0.85rem); gap:6px;}
  .launcher-option img{width:36px;height:36px;}
  footer{font-size:0.6rem;}
}
</style>
</head>
<body>

<div class="screen active" id="home">
  <h1>AgalarMC</h1>
  <button class="btn" onclick="showScreen('vanilla')">
    <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/vanillalogo.png" alt="Vanilla+"> Vanilla+
  </button>
  <button class="btn" onclick="showScreen('modded')">
    <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/createlogo.png" alt="Create"> Create
  </button>
  <a class="btn discord" href="https://discord.gg/wkUvFRTHr9" target="_blank">
    <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/discord.jpg" alt="Discord"> Discord Sunucusu
  </a>
  <div class="launcher-section">
    <button id="launcherBtn" class="btn">
      <img src="images/launcher.png" alt="Launcher"> Launcher
    </button>
    <div id="launcherDrawer" class="launcher-drawer">
      <div class="launcher-drawer-content">
        <a id="modrinthLink" class="launcher-option" target="_blank">
          <img src="images/modrinth.png" alt="Modrinth">
          <span>Modrinth</span>
        </a>
        <a id="prismLink" class="launcher-option" target="_blank">
          <img src="images/prism.png" alt="Prism">
          <span>Prism</span>
        </a>
      </div>
    </div>
    <button class="btn" style="margin-top:10px;" onclick="window.location.href='https://agalarmc.com/yardim';">
      <img src="images/yardim.png" alt="Yardım"> Sunucuya Nasıl Katılırım?
    </button>
  </div>
</div>

<!-- Vanilla+ -->
<div class="screen" id="vanilla">
  <h1>AgalarMC - Vanilla+</h1>
  <p>Görsel ve performans açısından geliştirilip vanilla hissiyatı koruyan sunucumuz. 2 haftadan uzun sürme garantili ;)</p>
  <button class="btn" onclick="copyIP(this, 'oyna.agalarmc.com')">
    <img src="images/ip.png" alt="IP"> Sunucu IP: oyna.agalarmc.com
  </button>
  <div class="launcher-section">
    <button id="modPaketiBtn" class="btn" style="background-color:#2fa666;">
      <img src="images/mods.png" alt="Mod Paketi"> Mod Paketi
    </button>
    <div id="modPaketiDrawer" class="launcher-drawer">
      <div class="launcher-drawer-content">
        <a class="launcher-option" style="background-color:#2b8f57;">
          <img src="images/patates.png" alt="Patates">
          <span>Patates</span>
          <small>Gerçekten patates bilgisayarlar için.</small>
        </a>
        <a class="launcher-option" style="background-color:#2b8f57;">
          <img src="images/dusuk.png" alt="Düşük">
          <span>Düşük</span>
          <small>Patates olmasa da kötü bilgisayarlar için.</small>
        </a>
        <a class="launcher-option" style="background-color:#2b8f57;">
          <img src="images/standart.png" alt="Standart">
          <span>Standart</span>
          <small>Ortalama ve iyi bilgisayarlar için.</small>
        </a>
      </div>
    </div>
  </div>
  <button class="btn server-btn" onclick="checkServerStatus('vanilla', 'oyna.agalarmc.com')">
    <span class="status-indicator" id="status-indicator-vanilla"></span>
    <span id="status-text-vanilla">Sunucu durumu kontrol ediliyor...</span>
  </button>
  <button class="btn back-btn" onclick="showScreen('home')">Geri Dön</button>
  <footer>&copy; 2025 AgalarMC</footer>
</div>

<!-- Create -->
<div class="screen" id="modded">
  <h1>AgalarMC - Create</h1>
  <p>Sanayileşme ve makinelerle dolu bu sunucuda otomasyonun sınırlarını zorla!</p>
  <button class="btn" onclick="copyIP(this, 'create.agalarmc.com')">
    <img src="images/ip.png" alt="IP"> Sunucu IP: create.agalarmc.com
  </button>
  <a class="btn" href="https://drive.google.com/placeholder" target="_blank">
    <img src="images/mods.png" alt="Mod"> Mod Paketi
  </a>
  <button class="btn server-btn" onclick="checkServerStatus('modded', 'create.agalarmc.com')">
    <span class="status-indicator" id="status-indicator-modded"></span>
    <span id="status-text-modded">Sunucu durumu kontrol ediliyor...</span>
  </button>
  <button class="btn back-btn" onclick="showScreen('home')">Geri Dön</button>
  <footer>&copy; 2025 AgalarMC</footer>
</div>

<script>
const themes = {
  home:{bg:"url('https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/menu.jpg')",color:"#3498db",gradient:"135deg, #0a0f2ccc, #1b2b5bcc"},
  vanilla:{bg:"url('https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/vanilla.jpg')",color:"#3ddc97",gradient:"135deg, #083030cc, #0b4a3ccc"},
  modded:{bg:"url('https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/create.jpg')",color:"#d76b00",gradient:"135deg, #3b1a00cc, #7a3a00cc"}
};
function showScreen(id){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  setTheme(id);
}
function setTheme(id){
  const t=themes[id];
  document.documentElement.style.setProperty('--bg-image',t.bg);
  document.documentElement.style.setProperty('--primary-color',t.color);
  document.documentElement.style.setProperty('--overlay-gradient',t.gradient);
}
document.addEventListener("DOMContentLoaded",()=>setTheme('home'));

function copyIP(button, ip) {
  const originalHTML = button.innerHTML;
  navigator.clipboard.writeText(ip).then(() => {
    button.innerHTML = '<span>Kopyalandı!</span>';
    button.classList.add("copied");
    setTimeout(() => { button.innerHTML = originalHTML; button.classList.remove("copied"); }, 1000);
  });
}

async function checkServerStatus(serverId,address){
  const statusText=document.getElementById(`status-text-${serverId}`);
  const indicator=document.getElementById(`status-indicator-${serverId}`);
  try{
    const response=await fetch(`https://api.mcsrvstat.us/2/${address}`);
    const data=await response.json();
    if(data.online){statusText.textContent='Sunucu açık'; indicator.style.backgroundColor='limegreen';}
    else{statusText.textContent='Sunucu kapalı'; indicator.style.backgroundColor='crimson';}
  }catch{
    statusText.textContent='Sunucu başlatılıyor veya erişilemedi';
    indicator.style.backgroundColor='gold';
  }
}
checkServerStatus('vanilla','oyna.agalarmc.com');
checkServerStatus('modded','create.agalarmc.com');
setInterval(()=>{
  checkServerStatus('vanilla','oyna.agalarmc.com');
  checkServerStatus('modded','create.agalarmc.com');
},10000);

// Drawer toggle
document.getElementById("launcherBtn").addEventListener("click",()=>{document.getElementById("launcherDrawer").classList.toggle("open");});
document.getElementById("modPaketiBtn").addEventListener("click",()=>{document.getElementById("modPaketiDrawer").classList.toggle("open");});

// Modrinth link
document.getElementById('modrinthLink').href = 'https://modrinth.com/app';

// Prism link
const prismEl = document.getElementById('prismLink');
prismEl.addEventListener('click', async (e) => {
  e.preventDefault();
  prismEl.querySelector('span').textContent = 'Kontrol ediliyor...';
  try {
    const resp = await fetch('https://api.github.com/repos/Diegiwg/PrismLauncher-Cracked/releases/latest');
    if (!resp.ok) throw new Error('GitHub API hatası');
    const data = await resp.json();
    const asset = (data.assets || []).find(a => /mingw-w64-setup\.exe/i.test(a.name));
    if (asset) { window.location.href = asset.browser_download_url; }
    else { window.open('https://github.com/Diegiwg/PrismLauncher-Cracked/releases/latest', '_blank', 'noopener'); }
  } catch { window.open('https://github.com/Diegiwg/PrismLauncher-Cracked/releases/latest', '_blank', 'noopener'); }
  finally { prismEl.querySelector('span').textContent = 'Prism'; }
});
</script>
</body>
</html>
