<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>AgalarMC</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
html, body {margin:0; padding:0; height:100%; font-family:'Press Start 2P', monospace; color:#fff; overflow:hidden;}
body::before {content:""; position:fixed; inset:0; background: var(--bg-image) no-repeat center center/cover; z-index:-2; opacity:0; animation:fadeIn 0.8s forwards;}
body::after {content:""; position:fixed; inset:0; background:linear-gradient(var(--overlay-gradient)); z-index:-1; opacity:0.85; transition:background 0.8s ease-in-out;}
@keyframes fadeIn { to { opacity:1; } }

:root {
  --primary-color:#3498db;
  --overlay-gradient:135deg, #0a0f2ccc, #1b2b5bcc;
  --bg-image: url('https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/menu.jpg');
  --modpaketi-color: #2b8f57;
  --modpaketi-btn-color: #2fa666;
  --launcher-link-color: #3498db;
}

/* Genel UI container */
.ui-container {
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%) scale(0.85); /* %15 küçültme ve tam ortalama */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 10px;
  width: 100%;
  box-sizing: border-box;
  text-align: center;
}

/* Menüler */
.screen {display:flex; flex-direction:column; align-items:center; justify-content:center; gap:10px; width:100%;}
.screen:not(.active) {display:none;}

/* Yazılar ve butonlar */
h1 {font-size:2.2rem; color:var(--primary-color); text-shadow:0 0 8px #000; margin:0;}
p {font-size:1rem; text-shadow:0 0 5px #000; line-height:1.6; margin:10px 0;}
.btn {display:inline-flex; align-items:center; justify-content:center; gap:12px; padding:20px 36px; margin:10px; font-size:0.9rem; border:none; border-radius:10px; background-color:var(--primary-color); color:#fff; cursor:pointer; text-decoration:none; font-family:'Press Start 2P', monospace; transition: all 0.3s ease; box-shadow:0 0 12px #0008;}
.btn:hover {background-color:#fff; color:var(--primary-color); transform:scale(1.05);}
.btn img {width:28px; height:28px; object-fit:cover; border-radius:6px;}
.btn.discord img {border-radius:50%;}
.copied {background-color:#fff !important; color:var(--primary-color) !important;}
.back-btn {margin-top:40px; font-size:0.75rem; background-color:#444;}
.btn.server-btn {background-color:#00000099; color:white; padding:12px 20px; border-radius:14px; display:inline-flex; align-items:center; justify-content:center; font-size:0.9rem; box-shadow:0 0 6px #000; gap:10px; transition: transform 0.1s ease, background-color 0.2s ease;}
.btn.server-btn:active {transform:scale(0.95); background-color:#111111bb;}
.status-indicator {width:16px; height:16px; border-radius:50%; background-color:gray; display:inline-block;}
footer{margin-top:20px; font-size:0.8rem;}

/* Mod Paketi ve Launcher */
.launcher-section {display:flex; flex-direction:column; align-items:center; transition: all 0.4s ease;}
.launcher-drawer {max-height:0; overflow:hidden; transition:max-height 0.4s ease; width:100%;}
.launcher-drawer.open {max-height:300px;}
.launcher-drawer-content {display:flex; justify-content:center; gap:40px; flex-wrap:wrap; margin-top:10px;}
.launcher-option {display:inline-flex; flex-direction:column; align-items:center; justify-content:center; gap:8px; text-decoration:none; background-color:var(--modpaketi-color); padding:8px 12px; border-radius:8px;}
.launcher-option span, .launcher-option small {font-family:'Press Start 2P', monospace; color:#fff; text-align:center;}
.launcher-option img {width:48px; height:48px; border-radius:6px;}
.launcher-option:hover {transform:scale(1.05);}

/* Mod Paketi piramit */
.modpaketi-grid {
  display: grid;
  grid-template-columns: repeat(2, 140px);
  grid-template-rows: auto auto;
  grid-template-areas:
    "standart standart"
    "dusuk patates";
  gap: 15px;
  justify-content: center;
  align-items: center;
}
.modpaketi-grid .standart { grid-area: standart; }
.modpaketi-grid .dusuk { grid-area: dusuk; }
.modpaketi-grid .patates { grid-area: patates; }

/* Mod Paketi ve Launcher renkleri */
#modPaketiBtn { background-color: var(--modpaketi-btn-color) !important; }

/* Modrinth & Prism renk */
.launcher-option#modrinthLink, .launcher-option#prismLink {background-color: var(--launcher-link-color);}
</style>
</head>
<body>
<div class="ui-container">

<!-- Home -->
<div class="screen active" id="home">
  <h1>AgalarMC</h1>
  <button class="btn" onclick="showScreen('vanilla')">
    <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/vanillalogo.png" alt="Vanilla+"> Vanilla+
  </button>
  <button class="btn" onclick="showScreen('modded')">
    <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/createlogo.png" alt="Create"> Create
  </button>
  <a class="btn discord" href="https://discord.gg/wkUvFRTHr9" target="_blank">
    <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/discord.jpg" alt="Discord"> Discord Sunucusu
  </a>
  <div class="launcher-section">
    <button id="launcherBtn" class="btn">
      <img src="images/launcher.png" alt="Launcher"> Launcher
    </button>
    <div id="launcherDrawer" class="launcher-drawer">
      <div class="launcher-drawer-content">
        <a id="modrinthLink" class="launcher-option" target="_blank">
          <img src="images/modrinth.png" alt="Modrinth">
          <span>Modrinth</span>
        </a>
        <a id="prismLink" class="launcher-option" target="_blank">
          <img src="images/prism.png" alt="Prism">
          <span>Prism</span>
        </a>
      </div>
    </div>
    <button class="btn" style="margin-top:10px;" onclick="window.location.href='https://agalarmc.com/yardim';">
      <img src="images/yardim.png" alt="Yardım"> Sunucuya Nasıl Katılırım?
    </button>
  </div>
</div>

<!-- Vanilla+ -->
<div class="screen" id="vanilla">
  <h1>AgalarMC - Vanilla+</h1>
  <p>Görsel ve performans açısından geliştirilip vanilla hissiyatı koruyan sunucumuz. 2 haftadan uzun sürme garantili ;)</p>
  <button class="btn" onclick="copyIP(this, 'oyna.agalarmc.com')">
    <img src="images/ip.png" alt="IP"> Sunucu IP: oyna.agalarmc.com
  </button>

  <div class="launcher-section">
    <button id="modPaketiBtn" class="btn">
      <img src="images/mods.png" alt="Mod Paketi"> Mod Paketi
    </button>
    <div id="modPaketiDrawer" class="launcher-drawer">
      <div class="launcher-drawer-content modpaketi-grid">
        <a class="launcher-option standart">
          <img src="images/standart.png" alt="Standart">
          <span>Standart</span>
          <small>Ortalama ve iyi bilgisayarlar için.</small>
        </a>
        <a class="launcher-option dusuk">
          <img src="images/dusuk.png" alt="Düşük">
          <span>Düşük</span>
          <small>Patates olmasa da kötü bilgisayarlar için.</small>
        </a>
        <a class="launcher-option patates">
          <img src="images/patates.png" alt="Patates">
          <span>Patates</span>
          <small>Gerçekten patates bilgisayarlar için.</small>
        </a>
      </div>
    </div>
  </div>

  <button class="btn server-btn" onclick="checkServerStatus('vanilla', 'oyna.agalarmc.com')">
    <span class="status-indicator" id="status-indicator-vanilla"></span>
    <span id="status-text-vanilla">Sunucu durumu kontrol ediliyor...</span>
  </button>
  <button class="btn back-btn" onclick="showScreen('home')">Geri Dön</button>
  <footer>&copy; 2025 AgalarMC</footer>
</div>

<!-- Create -->
<div class="screen" id="modded">
  <h1>AgalarMC - Create</h1>
  <p>Sanayileşme ve makinelerle dolu bu sunucuda otomasyonun sınırlarını zorla!</p>
  <button class="btn" onclick="copyIP(this, 'create.agalarmc.com')">
    <img src="images/ip.png" alt="IP"> Sunucu IP: create.agalarmc.com
  </button>
  <a class="btn" href="https://drive.google.com/placeholder" target="_blank">
    <img src="images/mods.png" alt="Mod"> Mod Paketi
  </a>
  <button class="btn server-btn" onclick="checkServerStatus('modded', 'create.agalarmc.com')">
    <span class="status-indicator" id="status-indicator-modded"></span>
    <span id="status-text-modded">Sunucu durumu kontrol ediliyor...</span>
  </button>
  <button class="btn back-btn" onclick="showScreen('home')">Geri Dön</button>
  <footer>&copy; 2025 AgalarMC</footer>
</div>

</div>

<script>
// Temalar
const themes = {
  home:{bg:"url('https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/menu.jpg')",color:"#3498db",gradient:"135deg, #0a0f2ccc, #1b2b5bcc"},
  vanilla:{bg:"url('https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/vanilla.jpg')",color:"#3ddc97",gradient:"135deg, #083030cc, #0b4a3ccc"},
  modded:{bg:"url('https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/create.jpg')",color:"#d76b00",gradient:"135deg, #3b1a00cc, #7a3a00cc"}
};

function showScreen(id){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  setTheme(id);
}

function setTheme(id){
  const t=themes[id];
  document.documentElement.style.setProperty('--bg-image',t.bg);
  document.documentElement.style.setProperty('--primary-color',t.color);
  document.documentElement.style.setProperty('--overlay-gradient',t.gradient);
}

document.addEventListener("DOMContentLoaded",()=>setTheme('home'));

// IP kopyalama
function copyIP(button, ip) {
	const originalHTML = button.innerHTML;
	navigator.clipboard.writeText(ip).then(() => {
		button.innerHTML = '<span>Kopyalandı!</span>';
		button.classList.add("copied");
		setTimeout(() => {
			button.innerHTML = originalHTML;
			button.classList.remove("copied");
		}, 1000);
	});
}

// Sunucu durumu
async function checkServerStatus(serverId,address){
  const statusText=document.getElementById(`status-text-${serverId}`);
  const indicator=document.getElementById(`status-indicator-${serverId}`);
  try{
    const response=await fetch(`https://api.mcsrvstat.us/2/${address}`);
    const data=await response.json();
    if(data.online){statusText.textContent='Sunucu açık'; if(indicator)indicator.style.backgroundColor='limegreen';}
    else{statusText.textContent='Sunucu kapalı'; if(indicator)indicator.style.backgroundColor='crimson';}
  }catch{
    statusText.textContent='Sunucu başlatılıyor veya erişilemedi';
    if(indicator)indicator.style.backgroundColor='gold';
  }
}
checkServerStatus('vanilla','oyna.agalarmc.com');
checkServerStatus('modded','create.agalarmc.com');
setInterval(()=>{
  checkServerStatus('vanilla','oyna.agalarmc.com');
  checkServerStatus('modded','create.agalarmc.com');
},10000);

// Launcher toggle
document.getElementById("launcherBtn").addEventListener("click",()=>{document.getElementById("launcherDrawer").classList.toggle("open");});

// Modrinth & Prism
document.getElementById('modrinthLink').href = 'https://modrinth.com/app';
document.getElementById('prismLink').addEventListener('click', async (e) => {
  e.preventDefault();
  const prismEl = document.getElementById('prismLink');
  prismEl.querySelector('span').textContent = 'Kontrol ediliyor...';
  try {
    const resp = await fetch('https://api.github.com/repos/Diegiwg/PrismLauncher-Cracked/releases/latest');
    if (!resp.ok) throw new Error('GitHub API hatası');
    const data = await resp.json();
    const asset = (data.assets || []).find(a => /mingw-w64-setup\.exe/i.test(a.name));
    if (asset) { window.location.href = asset.browser_download_url; }
    else { window.open('https://github.com/Diegiwg/PrismLauncher-Cracked/releases/latest', '_blank', 'noopener'); }
  } catch { window.open('https://github.com/Diegiwg/PrismLauncher-Cracked/releases/latest', '_blank', 'noopener'); }
  finally { prismEl.querySelector('span').textContent = 'Prism'; }
});

// Mod Paketi toggle
document.getElementById("modPaketiBtn").addEventListener("click", () => {
  document.getElementById("modPaketiDrawer").classList.toggle("open");
});
</script>
</body>
</html>
