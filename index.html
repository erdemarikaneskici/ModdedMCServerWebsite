<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>AgalarMC</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        html, body {
            margin:0;
            padding:0;
            height:100%;
            width:100%;
            font-family:'Press Start 2P', monospace;
            color:#fff;
            text-align:center;
            overflow:hidden;
            background:#000;
            transform:scale(0.8);
            transform-origin:top center;
        }
        body::before {
            content:"";
            position:fixed;
            inset:0;
            background:var(--bg-image) no-repeat center center/cover;
            z-index:-2;
            opacity:0;
            animation:fadeIn 0.8s forwards;
        }
        @keyframes fadeIn {
            to {opacity:1;}
        }
        body::after {
            content:"";
            position:fixed;
            inset:0;
            background:linear-gradient(var(--overlay-gradient));
            z-index:-1;
            opacity:0.85;
        }
        :root {
            --primary-color:#3498db;
            --overlay-gradient:135deg, #0a0f2ccc, #1b2b5bcc;
            --bg-image:url('https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/menu.jpg');
        }
        .screen {
            position:absolute;
            top:50%;
            left:50%;
            transform:translate(-50%,-50%);
            display:flex;
            flex-direction:column;
            align-items:center;
            justify-content:center;
            opacity:0;
            transition:opacity 0.6s ease;
            pointer-events:none;
            padding:10px;
            max-width:100%;
            width:100%;
            box-sizing:border-box;
        }
        .screen.active {
            opacity:1;
            pointer-events:all;
        }
        h1, .title-img {
            margin-bottom:30px;
            max-width:95%;
            height:auto;
            transform:scale(1.15);
        }
        .btn {
            display:inline-flex;
            align-items:center;
            justify-content:center;
            gap:12px;
            padding:20px 36px;
            margin:10px;
            font-size:0.9rem;
            border:none;
            border-radius:10px;
            background-color:var(--primary-color);
            color:#fff;
            cursor:pointer;
            text-decoration:none;
            font-family:'Press Start 2P', monospace;
            transition:all 0.3s ease;
            box-shadow:0 0 12px #0008;
        }
        .btn:hover {
            background-color:#fff;
            color:var(--primary-color);
            transform:scale(1.05);
        }
        .btn img {
            width:28px;
            height:28px;
            border-radius:6px;
        }
        .btn.discord img {
            border-radius:50%;
        }
        .btn.server-btn {
            background-color:#0009;
            padding:12px 20px;
            border-radius:14px;
        }
        .btn.server-btn:active {
            transform:scale(0.95);
            background-color:#111c;
        }
        .btn.back-btn {
            margin-top:30px;
            font-size:0.7rem;
            background-color:#444;
        }
        .status-indicator {
            width:16px;
            height:16px;
            border-radius:50%;
            background-color:gray;
            display:inline-block;
        }
        .launcher-section {
            display:flex;
            flex-direction:column;
            align-items:center;
            width:100%;
        }
        .launcher-drawer {
            max-height:0;
            overflow:hidden;
            transition:max-height 0.4s ease;
            width:100%;
        }
        .launcher-drawer.open {
            max-height:280px;
        }
        .launcher-drawer-content {
            display:flex;
            justify-content:center;
            gap:20px;
            flex-wrap:wrap;
            margin-top:10px;
            padding:10px;
            width:100%;
            box-sizing:border-box;
        }
        .launcher-option {
            display:flex;
            flex-direction:column;
            align-items:center;
            justify-content:center;
            text-decoration:none;
            background-color:#2b8f57;
            padding:14px 18px;
            border-radius:8px;
            width:140px;
            min-height:120px;
            color:white;
            transition:transform 0.2s ease;
            font-size:0.8rem;
            text-align:center;
            box-sizing:border-box;
        }
        .launcher-option small {
            font-size:0.6rem;
            margin-top:4px;
            line-height:1.2;
        }
        .launcher-option img {
            width:45px;
            height:45px;
            border-radius:6px;
        }
        .launcher-option:hover {
            transform:scale(1.05);
        }
        .modpack-grid {
            display:grid;
            grid-template-areas:
                "standart standart"
                "dusuk patates";
            gap:15px;
            justify-content:center;
            margin-top:10px;
            width:100%;
            max-width:400px;
        }
        .modpack-grid .standart {
            grid-area:standart;
            width:100%;
            max-width:300px;
            margin:0 auto;
        }
        .modpack-grid .dusuk {
            grid-area:dusuk;
            width:100%;
            max-width:180px;
        }
        .modpack-grid .patates {
            grid-area:patates;
            width:100%;
            max-width:180px;
        }
        footer {
            margin-top:20px;
            font-size:0.7rem;
            color:#ddd;
        }
        @media (max-width:600px){
            html, body {
                transform:scale(0.7);
                overflow:auto;
            }
            .screen {
                padding:15px;
            }
            .title-img {
                transform:scale(1.1);
                max-width:90%;
            }
            .launcher-drawer-content {
                gap:12px;
            }
            .launcher-option {
                width:120px;
                min-height:100px;
                font-size:0.7rem;
                padding:12px 15px;
            }
            .launcher-option small {
                font-size:0.55rem;
            }
            .modpack-grid {
                gap:12px;
                max-width:320px;
            }
            .modpack-grid .standart {
                max-width:250px;
            }
            .modpack-grid .dusuk,
            .modpack-grid .patates {
                max-width:150px;
            }
        }
        @media (max-width:400px){
            html, body {
                transform:scale(0.65);
            }
            .modpack-grid {
                max-width:280px;
            }
            .modpack-grid .standart {
                max-width:220px;
            }
            .modpack-grid .dusuk,
            .modpack-grid .patates {
                max-width:130px;
            }
        }
    </style>
</head>
<body>
    <!-- Ana Menü -->
    <div class="screen active" id="home">
        <img class="title-img" src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/menutitle.png" alt="AgalarMC">
        <button class="btn" onclick="showScreen('vanilla')">
            <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/vanillalogo.png" alt="Vanilla+">
            Vanilla+
        </button>
        <button class="btn" onclick="showScreen('modded')">
            <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/createlogo.png" alt="Create">
            Create
        </button>
        <a class="btn discord" href="https://discord.gg/wkUvFRTHr9" target="_blank">
            <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/discord.jpg" alt="Discord">
            Discord Sunucusu
        </a>
        <div class="launcher-section">
            <button id="launcherBtn" class="btn">
                <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/launcher.png" alt="Launcher">
                Launcher
            </button>
            <div id="launcherDrawer" class="launcher-drawer">
                <div class="launcher-drawer-content">
                    <a id="modrinthLink" class="launcher-option" style="background-color:#2980b9;" target="_blank">
                        <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/modrinth.png" alt="Modrinth">
                        <span>Modrinth</span>
                    </a>
                    <a id="prismLink" class="launcher-option" style="background-color:#2980b9;" target="_blank">
                        <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/prism.png" alt="Prism">
                        <span>Prism</span>
                    </a>
                </div>
            </div>
            <button class="btn" style="margin-top:15px;background-color:#3498db;" onclick="window.location.href='https://agalarmc.com/yardim';">
                <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/yardim.png" alt="Yardım">
                Sunucuya Nasıl Katılırım?
            </button>
        </div>
    </div>

    <!-- Vanilla+ -->
    <div class="screen" id="vanilla">
        <img class="title-img" src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/vanillatitle.png" alt="Vanilla+">
        <p>Görsel ve performans açısından geliştirilmiş, vanilla hissiyatını koruyan sunucumuz.</p>
        <button class="btn" onclick="copyIP(this, 'oyna.agalarmc.com')">
            <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/ip.png" alt="IP">
            Sunucu IP: oyna.agalarmc.com
        </button><br>
        <div class="launcher-section">
            <button id="modPaketiBtn" class="btn" style="background-color:#2fa666;">
                <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/mods.png" alt="Mod Paketi">
                Mod Paketi
            </button>
            <div id="modPaketiDrawer" class="launcher-drawer">
                <div class="launcher-drawer-content modpack-grid">
                    <a class="launcher-option standart" href="#" onclick="downloadModpack('standart')">
                        <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/standart.png" alt="Standart">
                        <span>Standart</span>
                        <small>Ortalama ve iyi bilgisayarlar için.</small>
                    </a>
                    <a class="launcher-option dusuk" href="#" onclick="downloadModpack('dusuk')">
                        <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/dusuk.png" alt="Düşük">
                        <span>Düşük</span>
                        <small>Zayıf sistemler için optimize edilmiş.</small>
                    </a>
                    <a class="launcher-option patates" href="#" onclick="downloadModpack('patates')">
                        <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/patates.png" alt="Patates">
                        <span>Patates</span>
                        <small>Gerçekten patates bilgisayarlar için.</small>
                    </a>
                </div>
            </div>
        </div>
        <button class="btn server-btn" onclick="checkServerStatus('vanilla','oyna.agalarmc.com')">
            <span class="status-indicator" id="status-indicator-vanilla"></span>
            <span id="status-text-vanilla">Sunucu durumu kontrol ediliyor...</span>
        </button>
        <button class="btn back-btn" onclick="showScreen('home')">Geri Dön</button>
        <footer>&copy; 2025 AgalarMC</footer>
    </div>

    <!-- Create -->
    <div class="screen" id="modded">
        <img class="title-img" src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/createtitle.png" alt="Create">
        <p>Sanayileşme ve makinelerle dolu bu sunucuda otomasyonun sınırlarını zorla!</p>
        <button class="btn" onclick="copyIP(this,'create.agalarmc.com')">
            <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/ip.png" alt="IP">
            Sunucu IP: create.agalarmc.com
        </button><br>
        <a class="btn" href="#" id="moddedModpackBtn" style="background-color:#2fa666;">
            <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/mods.png" alt="Mod">
            Mod Paketi
        </a>
        <button class="btn server-btn" onclick="checkServerStatus('modded','create.agalarmc.com')">
            <span class="status-indicator" id="status-indicator-modded"></span>
            <span id="status-text-modded">Sunucu durumu kontrol ediliyor...</span>
        </button>
        <button class="btn back-btn" onclick="showScreen('home')">Geri Dön</button>
        <footer>&copy; 2025 AgalarMC</footer>
    </div>

    <script>
        const themes = {
            home: {
                bg: "url('https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/menu.jpg')",
                color: "#3498db",
                gradient: "135deg, #0a0f2ccc, #1b2b5bcc"
            },
            vanilla: {
                bg: "url('https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/vanilla.jpg')",
                color: "#3ddc97",
                gradient: "135deg, #083030cc, #0b4a3ccc"
            },
            modded: {
                bg: "url('https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/create.jpg')",
                color: "#d76b00",
                gradient: "135deg, #3b1a00cc, #7a3a00cc"
            }
        };

        function showScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            const theme = themes[id];
            document.documentElement.style.setProperty('--bg-image', theme.bg);
            document.documentElement.style.setProperty('--primary-color', theme.color);
            document.documentElement.style.setProperty('--overlay-gradient', theme.gradient);
        }

        document.addEventListener("DOMContentLoaded", () => showScreen('home'));

        function copyIP(btn, ip) {
            const originalHTML = btn.innerHTML;
            navigator.clipboard.writeText(ip).then(() => {
                btn.innerHTML = '<img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/ip.png" alt="IP"> Kopyalandı!';
                setTimeout(() => btn.innerHTML = originalHTML, 1000);
            }).catch(() => {
                // Fallback for older browsers
                const tempInput = document.createElement('input');
                tempInput.value = ip;
                document.body.appendChild(tempInput);
                tempInput.select();
                document.execCommand('copy');
                document.body.removeChild(tempInput);
                
                btn.innerHTML = '<img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/ip.png" alt="IP"> Kopyalandı!';
                setTimeout(() => btn.innerHTML = originalHTML, 1000);
            });
        }

        async function checkServerStatus(id, addr) {
            const text = document.getElementById(`status-text-${id}`);
            const indicator = document.getElementById(`status-indicator-${id}`);
            
            try {
                const response = await fetch(`https://api.mcsrvstat.us/2/${addr}`);
                const data = await response.json();
                
                if (data.online) {
                    text.textContent = `Sunucu açık - ${data.players?.online || 0}/${data.players?.max || 0} oyuncu`;
                    indicator.style.background = 'limegreen';
                } else {
                    text.textContent = 'Sunucu kapalı';
                    indicator.style.background = 'crimson';
                }
            } catch (error) {
                text.textContent = 'Sunucu başlatılıyor...';
                indicator.style.background = 'gold';
            }
        }

        // Initialize server status checks
        checkServerStatus('vanilla', 'oyna.agalarmc.com');
        checkServerStatus('modded', 'create.agalarmc.com');
        
        // Update status every 30 seconds
        setInterval(() => {
            checkServerStatus('vanilla', 'oyna.agalarmc.com');
            checkServerStatus('modded', 'create.agalarmc.com');
        }, 30000);

        // Launcher drawer functionality
        document.getElementById('launcherBtn').onclick = () => {
            document.getElementById('launcherDrawer').classList.toggle("open");
        };

        document.getElementById('modPaketiBtn').onclick = () => {
            document.getElementById('modPaketiDrawer').classList.toggle("open");
        };

        // Modrinth link
        document.getElementById('modrinthLink').href = 'https://modrinth.com/app';

        // Prism Launcher functionality
        const prism = document.getElementById('prismLink');
        prism.addEventListener('click', async (e) => {
            e.preventDefault();
            const span = prism.querySelector('span');
            span.textContent = 'Kontrol...';
            
            try {
                const response = await fetch('https://api.github.com/repos/Diegiwg/PrismLauncher-Cracked/releases/latest');
                const data = await response.json();
                const asset = (data.assets || []).find(a => /mingw-w64-setup\.exe/i.test(a.name));
                
                if (asset) {
                    window.location.href = asset.browser_download_url;
                } else {
                    window.open('https://github.com/Diegiwg/PrismLauncher-Cracked/releases/latest', '_blank');
                }
            } catch (error) {
                window.open('https://github.com/Diegiwg/PrismLauncher-Cracked/releases/latest', '_blank');
            } finally {
                span.textContent = 'Prism';
            }
        });

        // Modpack download functions
        function downloadModpack(type) {
            const modpackUrls = {
                standart: "https://drive.google.com/your-standart-modpack-link",
                dusuk: "https://drive.google.com/your-dusuk-modpack-link", 
                patates: "https://drive.google.com/your-patates-modpack-link"
            };
            
            const url = modpackUrls[type];
            if (url && url !== "https://drive.google.com/your-standart-modpack-link") {
                window.open(url, '_blank');
            } else {
                alert('Modpack linki henüz ayarlanmamış. Lütfen daha sonra tekrar deneyin.');
            }
        }

        // Create modpack button functionality
        document.getElementById('moddedModpackBtn').addEventListener('click', function(e) {
            e.preventDefault();
            window.open('https://drive.google.com/your-create-modpack-link', '_blank');
        });
    </script>
</body>
</html>
