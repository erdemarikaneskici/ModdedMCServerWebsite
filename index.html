<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>AgalarMC</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
html, body {margin:0; padding:0; height:100%; font-family:'Press Start 2P', monospace; color:#fff; text-align:center; overflow-x:hidden;}
body::before {content:""; position:fixed; inset:0; background: var(--bg-image) no-repeat center center/cover; z-index:-2; opacity:0; animation:fadeIn 0.8s forwards;}
@keyframes fadeIn { to { opacity:1; } }
body::after {content:""; position:fixed; inset:0; background:linear-gradient(var(--overlay-gradient)); z-index:-1; opacity:0.85; transition:background 0.8s ease-in-out;}
:root {
  --primary-color:#3498db;
  --overlay-gradient:135deg, #0a0f2ccc, #1b2b5bcc;
  --bg-image: url('https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/menu.jpg');
}
.screen {position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; opacity:0; transition:opacity 0.6s ease; pointer-events:none; padding:20px;}
.screen.active {opacity:1; pointer-events:all;}
h1 {font-size:2.2rem; margin-bottom:30px; color:var(--primary-color); text-shadow:0 0 8px #000;}
p {font-size:1rem; margin-bottom:50px; max-width:800px; text-shadow:0 0 5px #000; line-height:1.6;}
.btn {display:inline-flex; align-items:center; justify-content:center; gap:12px; padding:20px 36px; margin:15px; font-size:0.9rem; border:none; border-radius:10px; background-color:var(--primary-color); color:#fff; cursor:pointer; text-decoration:none; font-family:'Press Start 2P', monospace; transition: all 0.3s ease; box-shadow:0 0 12px #0008;}
.btn:hover {background-color:#fff; color:var(--primary-color); transform:scale(1.05);}
.btn img {width:28px; height:28px; object-fit:cover; border-radius:6px;}
.btn.discord img {border-radius:50%;}
.copied {background-color:#fff !important; color:var(--primary-color) !important;}
.back-btn {margin-top:50px; font-size:0.75rem; background-color:#444;}
.btn.server-btn {background-color:#00000099; color:white; padding:12px 20px; border-radius:14px; display:inline-flex; align-items:center; justify-content:center; font-size:0.9rem; box-shadow:0 0 6px #000; gap:10px; transition: transform 0.1s ease, background-color 0.2s ease;}
.btn.server-btn:active {transform:scale(0.95); background-color:#111111bb;}
.status-indicator {width:16px; height:16px; border-radius:50%; background-color:gray; display:inline-block;}
@media (max-width:600px){
  h1{font-size:clamp(1.5rem,5vw,2rem); margin-bottom:20px;}
  p{font-size:clamp(0.8rem,3.5vw,1rem); margin-bottom:30px; padding:0 10px;}
  .btn{padding:14px 24px; font-size:clamp(0.7rem,3vw,0.9rem); gap:8px;}
  .screen{padding:10px;}
  footer{font-size:0.7rem;}
}

/* Launcher drawer */
.launcher-section {display:flex; flex-direction:column; align-items:center; transition: all 0.4s ease;}
.launcher-drawer {max-height:0; overflow:hidden; transition:max-height 0.4s ease; width:100%;}
.launcher-drawer.open {max-height:120px;}
.launcher-drawer-content {display:flex; justify-content:center; gap:40px; flex-wrap:wrap; margin-top:10px;}
.launcher-option {display:inline-flex; flex-direction:column; align-items:center; justify-content:center; gap:8px; text-decoration:none; background-color:#1a2b5b; padding:8px 12px; border-radius:8px;}
.launcher-option span {font-family:'Press Start 2P', monospace; font-size:0.9rem; color:#fff;}
.launcher-option img {width:28px; height:28px; border-radius:6px;}
.launcher-option:hover {transform:scale(1.05);}

/* Vanilla+ Mod Paketi Options */
#modPaketiDrawer {max-height:0; overflow:hidden; transition:max-height 0.5s ease;}
#modPaketiDrawer.open {max-height:350px;}
#modPaketiDrawer .launcher-drawer-content {display:flex; justify-content:center; gap:20px; flex-wrap:wrap;}
#modPaketiDrawer .launcher-option {
  background-color:#2b8f57; /* vanilla+ yeşili tonlu */
  flex-direction:column;
  width:130px;
  padding:12px 8px;
  border-radius:8px;
  display:flex;
  align-items:center;
  justify-content:flex-start;
  text-align:center;
}
#modPaketiDrawer .launcher-option img {width:48px; height:48px; margin-bottom:5px;}
#modPaketiDrawer .launcher-option span {font-size:0.9rem; font-weight:bold;}
#modPaketiDrawer .launcher-option small {font-size:0.7rem; text-align:center; display:block; margin-top:4px; line-height:1.2;}
</style>
</head>
<body>

<!-- Home ekranı -->
<div class="screen active" id="home">
  <h1>AgalarMC</h1>
  <button class="btn" onclick="showScreen('vanilla')">
    <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/vanillalogo.png" alt="Vanilla+"> Vanilla+
  </button>
  <button class="btn" onclick="showScreen('modded')">
    <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/createlogo.png" alt="Create"> Create
  </button>
  <a class="btn discord" href="https://discord.gg/wkUvFRTHr9" target="_blank">
    <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/discord.jpg" alt="Discord"> Discord Sunucusu
  </a>
  
  <div class="launcher-section">
    <button id="launcherBtn" class="btn">
      <img src="images/launcher.png" alt="Launcher" onerror="this.src='https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/launcher.png'"> Launcher
    </button>
    <div id="launcherDrawer" class="launcher-drawer">
      <div class="launcher-drawer-content">
        <a id="modrinthLink" class="launcher-option" target="_blank">
          <img src="images/modrinth.png" alt="Modrinth">
          <span>Modrinth</span>
        </a>
        <a id="prismLink" class="launcher-option" target="_blank">
          <img src="images/prism.png" alt="Prism">
          <span>Prism</span>
        </a>
      </div>
    </div>
    <button class="btn" style="margin-top:15px;" onclick="showScreen('yardim')">
      <img src="images/yardim.png" alt="Yardım"> Sunucuya Nasıl Katılırım?
    </button>
  </div>
</div>

<!-- Vanilla+ Menü -->
<div class="screen" id="vanilla">
  <h1>AgalarMC - Vanilla+</h1>
  <p>Görsel ve performans açısından geliştirilip vanilla hissiyatı koruyan sunucumuz. 2 haftadan uzun sürme garantili ;)</p>

  <!-- IP Kopyalama en üstte -->
  <button class="btn" onclick="copyIP(this, 'oyna.agalarmc.com')">
    <img src="images/ip.png" alt="IP"> Sunucu IP: oyna.agalarmc.com
  </button><br>

  <!-- Mod Paketi Drawer -->
  <button class="btn" onclick="toggleModPaketiDrawer()">
    <img src="images/mods.png" alt="Mod"> Mod Paketi
  </button>
  <div id="modPaketiDrawer">
    <div class="launcher-drawer-content">
      <a class="launcher-option" href="#" target="_blank">
        <img src="images/patates.png" alt="Patates">
        <span>Patates</span>
        <small>Gerçekten patates bilgisayarlar için.</small>
      </a>
      <a class="launcher-option" href="#" target="_blank">
        <img src="images/dusuk.png" alt="Düşük">
        <span>Düşük</span>
        <small>Patates olmasa da kötü olan bilgisayarlar için.</small>
      </a>
      <a class="launcher-option" href="#" target="_blank">
        <img src="images/standart.png" alt="Standart">
        <span>Standart</span>
        <small>Ortalama ve iyi bilgisayarlar için.</small>
      </a>
    </div>
  </div>

  <button class="btn server-btn" onclick="checkServerStatus('vanilla', 'oyna.agalarmc.com')">
    <span class="status-indicator" id="status-indicator-vanilla"></span>
    <span id="status-text-vanilla">Sunucu durumu kontrol ediliyor...</span>
  </button>
  <button class="btn back-btn" onclick="showScreen('home')">Geri Dön</button>
  <footer>&copy; 2025 AgalarMC</footer>
</div>

<!-- Create Menü -->
<div class="screen" id="modded">
  <h1>AgalarMC - Create</h1>
  <p>Sanayileşme ve makinelerle dolu bu sunucuda otomasyonun sınırlarını zorla!</p>
  <button class="btn" onclick="copyIP(this, 'create.agalarmc.com')">
    <img src="images/ip.png" alt="IP"> Sunucu IP: create.agalarmc.com
  </button><br>
  <a class="btn" href="https://drive.google.com/placeholder" target="_blank">
    <img src="images/mods.png" alt="Mod"> Mod Paketi
  </a>
  <button class="btn server-btn" onclick="checkServerStatus('modded', 'create.agalarmc.com')">
    <span class="status-indicator" id="status-indicator-modded"></span>
    <span id="status-text-modded">Sunucu durumu kontrol ediliyor...</span>
  </button>
  <button class="btn back-btn" onclick="showScreen('home')">Geri Dön</button>
  <footer>&copy; 2025 AgalarMC</footer>
</div>

<!-- Yardım ekranı -->
<div class="screen" id="yardim">
  <h1>Nasıl Katılırım?</h1>
  <p>Bu sayfayı <code>agalarmc.com/yardim</code> üzerinden düzenleyeceksin.</p>
  <button class="btn back-btn" onclick="showScreen('home')">Geri Dön</button>
</div>

<script>
const themes = {
  home:{bg:"url('https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/menu.jpg')",color:"#3498db",gradient:"135deg, #0a0f2ccc, #1b2b5bcc"},
  vanilla:{bg:"url('https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/vanilla.jpg')",color:"#3ddc97",gradient:"135deg, #083030cc, #0b4a3ccc"},
  modded:{bg:"url('https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/create.jpg')",color:"#d76b00",gradient:"135deg, #3b1a00cc, #7a3a00cc"}
};
function showScreen(id){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  setTheme(id);
}
function setTheme(id){
  const t=themes[id];
  document.documentElement.style.setProperty('--bg-image',t.bg);
  document.documentElement.style.setProperty('--primary-color',t.color);
  document.documentElement.style.setProperty('--overlay-gradient',t.gradient);
}
document.addEventListener("DOMContentLoaded",()=>setTheme('home'));

function copyIP(button, ip) {
	const originalHTML = button.innerHTML;
	navigator.clipboard.writeText(ip).then(() => {
		button.innerHTML = '<span>Kopyalandı!</span>';
		button.classList.add("copied");
		setTimeout(() => {
			button.innerHTML = originalHTML;
			button.classList.remove("copied");
		}, 1000);
	});
}

async function checkServerStatus(serverId,address){
  const statusText=document.getElementById(`status-text-${serverId}`);
  const indicator=document.getElementById(`status-indicator-${serverId}`);
  try{
    const response=await fetch(`https://api.mcsrvstat.us/2/${address}`);
    const data=await response.json();
    if(data.online){statusText.textContent='Sunucu açık'; if(indicator)indicator.style.backgroundColor='limegreen';}
    else{statusText.textContent='Sunucu kapalı'; if(indicator)indicator.style.backgroundColor='crimson';}
  }catch{
    statusText.textContent='Sunucu başlatılıyor veya erişilemedi';
    if(indicator)indicator.style.backgroundColor='gold';
  }
}
checkServerStatus('vanilla','oyna.agalarmc.com');
checkServerStatus('modded','create.agalarmc.com');
setInterval(()=>{
  checkServerStatus('vanilla','oyna.agalarmc.com');
  checkServerStatus('modded','create.agalarmc.com');
},10000);

const launcherBtn=document.getElementById("launcherBtn");
const launcherDrawer=document.getElementById("launcherDrawer");
launcherBtn.addEventListener("click",()=>{launcherDrawer.classList.toggle("open");});
document.getElementById('modrinthLink').href = 'https://modrinth.com/app';
const prismEl = document.getElementById('prismLink');
prismEl.addEventListener('click', async (e) => {
  e.preventDefault();
  prismEl.querySelector('span').textContent = 'Kontrol ediliyor...';
  try {
    const resp = await fetch('https://api.github.com/repos/Diegiwg/PrismLauncher-Cracked/releases/latest');
    if (!resp.ok) throw new Error('GitHub API hatası');
    const data = await resp.json();
    const asset = (data.assets || []).find(a => /mingw-w64-setup\.exe/i.test(a.name));
    if (asset) { window.location.href = asset.browser_download_url; }
    else { window.open('https://github.com/Diegiwg/PrismLauncher-Cracked/releases/latest', '_blank', 'noopener'); }
  } catch { window.open('https://github.com/Diegiwg/PrismLauncher-Cracked/releases/latest', '_blank', 'noopener'); }
  finally { prismEl.querySelector('span').textContent = 'Prism'; }
});

// Vanilla+ Mod Paketi drawer toggle
function toggleModPaketiDrawer(){
  document.getElementById('modPaketiDrawer').classList.toggle('open');
}
</script>
</body>
</html>
