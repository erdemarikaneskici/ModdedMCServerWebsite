<!-- Sunucu Durumu Gösterici (Orijinaline Sadık + Yenileme Özelliği) -->
<div class="status-box" onclick="checkServerStatus()">
  <div id="status-indicator" class="status-indicator"></div>
  <span id="status-text">Sunucu durumu kontrol ediliyor...</span>
</div>

<script>
  async function checkServerStatus() {
    const statusText = document.getElementById('status-text');
    const statusIndicator = document.getElementById('status-indicator');

    statusText.textContent = 'Durum kontrol ediliyor...';
    statusIndicator.style.backgroundColor = 'gray';

    try {
      const response = await fetch('https://api.mcsrvstat.us/2/agalarmc.com');
      const data = await response.json();

      if (data.online) {
        statusText.textContent = 'Sunucu açık';
        statusIndicator.style.backgroundColor = 'limegreen';
      } else {
        statusText.textContent = 'Sunucu kapalı';
        statusIndicator.style.backgroundColor = 'crimson';
      }
    } catch (e) {
      statusText.textContent = 'Başlatılıyor veya erişim yok';
      statusIndicator.style.backgroundColor = 'gold';
    }
  }

  checkServerStatus(); // Sayfa ilk yüklendiğinde kontrol et
  setInterval(checkServerStatus, 30000); // 30 saniyede bir yenile
</script>