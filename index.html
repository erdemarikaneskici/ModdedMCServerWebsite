<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>AgalarMC</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
:root{
  --primary-color:#3498db;
  --launcher-accent:#205aa8; /* yeni daha koyu mavi */
  --launcher-accent-strong:#163f6f;
  --overlay-gradient:135deg, #0a0f2ccc, #1b2b5bcc;
  --bg-image: url('https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/menu.jpg');
}
html,body{height:100%;margin:0;padding:0;font-family:'Press Start 2P',monospace;background:#071025; color:#fff;overflow:hidden}
body::before{content:'';position:fixed;inset:0;background:var(--bg-image) no-repeat center/cover;z-index:-3;opacity:1}
body::after{content:'';position:fixed;inset:0;background:linear-gradient(var(--overlay-gradient));z-index:-2;opacity:0.85}
.screen{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;transition:opacity .4s;opacity:0;pointer-events:none}
.screen.active{opacity:1;pointer-events:all}
h1{font-size:2.2rem;margin-bottom:24px;color:var(--primary-color);text-shadow:0 0 8px #000}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:12px;padding:18px 34px;margin:12px;font-size:0.88rem;border:none;border-radius:12px;background-color:var(--primary-color);color:#fff;cursor:pointer;text-decoration:none;transition:all .22s ease;box-shadow:0 8px 18px rgba(0,0,0,.45)}
.btn:hover{transform:translateY(-4px);filter:brightness(1.02)}
.btn img{width:28px;height:28px;border-radius:6px;object-fit:cover}
.btn.discord img{border-radius:50%}
.copied{background:#fff !important;color:var(--primary-color) !important}
.back-btn{margin-top:30px;font-size:0.75rem;background:#444}
.btn.server-btn{background:#000000bb;color:#fff;padding:12px 20px;border-radius:14px;display:inline-flex;align-items:center;gap:10px;box-shadow:0 6px 12px rgba(0,0,0,.55)}
.status-indicator{width:14px;height:14px;border-radius:50%;background:gray;display:inline-block}
footer{margin-top:18px;opacity:.9;font-size:12px}
@media (max-width:600px){h1{font-size:clamp(1.5rem,5vw,2rem)}.btn{padding:12px 20px;font-size:0.75rem}}

/* ---------- Launcher drawer (yeni tasarım) ---------- */
.launcher-section{display:flex;flex-direction:column;align-items:center;gap:12px;position:relative}
#launcherBtn{z-index:30}
/* arka plan: launcher butonunun altında bir "connected pill" */
.launcher-bg{position:relative;display:flex;align-items:center;justify-content:center;width:340px;height:64px;border-radius:999px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.18));backdrop-filter:blur(6px);box-shadow:0 8px 30px rgba(0,0,0,.6);transition:transform .36s cubic-bezier(.2,.9,.2,1),opacity .28s;z-index:10}
.launcher-bg.hidden{opacity:0;transform:translateY(10px) scale(.98)}

/* drawer gerçek alanı, üst üste binen butonlar için */
.launcher-drawer{position:absolute;top:78px;left:50%;transform:translateX(-50%) translateY(-6px);width:88%;max-width:560px;pointer-events:none;z-index:40}
.launcher-drawer-inner{position:relative;width:100%;display:flex;align-items:center;justify-content:center}
.launcher-pill{width:100%;height:64px;border-radius:999px;background:linear-gradient(180deg, rgba(10,20,40,.45), rgba(3,8,18,.7));box-shadow:inset 0 1px 0 rgba(255,255,255,0.03), 0 10px 30px rgba(0,0,0,.6);transition:all .38s ease;display:flex;align-items:center;justify-content:center;padding:12px}

/* seçeneklerin konteyneri; butonlar launcher pill'inin üstünde yüzer */
.launcher-options{display:flex;gap:12px;align-items:center;justify-content:center;pointer-events:all}
.launcher-option{display:inline-flex;flex-direction:row;align-items:center;gap:12px;padding:14px 18px;border-radius:12px;background:linear-gradient(180deg,var(--launcher-accent),var(--launcher-accent-strong));color:#fff;text-decoration:none;font-size:.9rem;box-shadow:0 8px 20px rgba(16,35,70,.5);transform:translateY(0);transition:transform .28s ease, box-shadow .22s ease, background .22s ease}
.launcher-option img{width:34px;height:34px;border-radius:8px}
.launcher-option:hover{transform:translateY(-6px);box-shadow:0 18px 36px rgba(12,34,70,.5)}
.launcher-option.small{padding:10px 12px;font-size:.82rem}

/* drawer state: kapalıysa gizle, açıksa göster (elegant çekmece animasyonu) */
.launcher-drawer .drawer-contents{max-height:0;opacity:0;transform:translateY(-10px);overflow:hidden;transition:max-height .42s cubic-bezier(.2,.9,.2,1),opacity .28s,transform .36s}
.launcher-drawer.open .drawer-contents{max-height:240px;opacity:1;transform:translateY(0)}

/* küçük ekranlar için küçültme */
@media (max-width:420px){.launcher-bg{width:92%;height:56px}.launcher-option{padding:10px 12px;font-size:.78rem}.launcher-option img{width:28px;height:28px}}

/* Accessibility focus */
.launcher-option:focus{outline:3px solid rgba(255,255,255,.06);outline-offset:2px}

</style>
</head>
<body>

<!-- Ana ekran -->
<div class="screen active" id="home">
  <h1>AgalarMC</h1>

  <div style="display:flex;gap:18px;flex-wrap:wrap;justify-content:center;align-items:center;">
    <button class="btn" onclick="showScreen('vanilla')">
      <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/vanillalogo.png" alt="Vanilla+">Vanilla+
    </button>

    <button class="btn" onclick="showScreen('modded')">
      <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/createlogo.png" alt="Create">Create
    </button>

    <a class="btn discord" href="https://discord.gg/wkUvFRTHr9" target="_blank" rel="noreferrer noopener">
      <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/discord.jpg" alt="Discord">Discord Sunucusu
    </a>
  </div>

  <!-- Launcher bölümü: bağlı pill + butonlar -->
  <div class="launcher-section" aria-label="Launcher" style="margin-top:18px;">
    <button id="launcherBtn" class="btn" aria-expanded="false" aria-controls="launcherDrawer">
      <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/launcher.png" alt="Launcher">Launcher
    </button>

    <!-- arka connected pill -->
    <div class="launcher-bg" id="launcherBg" aria-hidden="true">
      <!-- pill içeriği (görsel olarak tek parça) -->
      <div class="launcher-drawer" id="launcherDrawer" role="region" aria-hidden="true">
        <div class="launcher-drawer-inner">
          <div class="launcher-pill" id="launcherPill">
            <!-- Bu kısım launcher pill'inin arkaplanı; butonlar bunun üstünde yüzer -->
            <div style="position:relative;z-index:60;">
              <div class="drawer-contents">
                <div class="launcher-options" id="launcherOptions">
                  <a id="modrinthLink" class="launcher-option" target="_blank" rel="noopener noreferrer">
                    <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/modrinth.png" alt="Modrinth">
                    <span>Modrinth</span>
                  </a>

                  <a id="prismLink" class="launcher-option" target="_blank" rel="noopener noreferrer">
                    <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/prism.png" alt="Prism">
                    <span>Prism</span>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <button class="btn" style="margin-top:6px;" onclick="openHelp()">
      <img src="https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/yardim.png" alt="Yardım">Sunucuya Nasıl Katılırım?
    </button>
  </div>

  <footer>&copy; 2025 AgalarMC</footer>
</div>

<!-- Vanilla+ ekranu -->
<div class="screen" id="vanilla">
  <h1>AgalarMC - Vanilla+</h1>
  <p style="max-width:760px;line-height:1.5">Görsel ve performans açısından geliştirilip vanilla hissiyatı koruyan sunucumuz. 2 haftadan uzun sürme garantili ;)</p>
  <button class="btn" onclick="copyIP(this,'oyna.agalarmc.com')">Sunucu IP: oyna.agalarmc.com</button>
  <br>
  <a class="btn" href="#">Mod Paketi</a>
  <button class="btn server-btn" onclick="checkServerStatus('vanilla','oyna.agalarmc.com')"><span class="status-indicator" id="status-indicator-vanilla"></span> <span id="status-text-vanilla">Sunucu durumu kontrol ediliyor...</span></button>
  <button class="btn back-btn" onclick="showScreen('home')">Geri Dön</button>
  <footer>&copy; 2025 AgalarMC</footer>
</div>

<!-- Modded ekranu -->
<div class="screen" id="modded">
  <h1>AgalarMC - Create</h1>
  <p style="max-width:760px;line-height:1.5">Sanayileşme ve makinelerle dolu bu sunucuda otomasyonun sınırlarını zorla!</p>
  <button class="btn" onclick="copyIP(this,'create.agalarmc.com')">Sunucu IP: create.agalarmc.com</button>
  <br>
  <a class="btn" href="#">Mod Paketi</a>
  <button class="btn server-btn" onclick="checkServerStatus('modded','create.agalarmc.com')"><span class="status-indicator" id="status-indicator-modded"></span> <span id="status-text-modded">Sunucu durumu kontrol ediliyor...</span></button>
  <button class="btn back-btn" onclick="showScreen('home')">Geri Dön</button>
  <footer>&copy; 2025 AgalarMC</footer>
</div>

<script>
/* Temalar */
const themes = {
  home:{bg:"url('https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/menu.jpg')",color:'#3498db',gradient:'135deg, #0a0f2ccc, #1b2b5bcc'},
  vanilla:{bg:"url('https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/vanilla.jpg')",color:'#3ddc97',gradient:'135deg, #083030cc, #0b4a3ccc'},
  modded:{bg:"url('https://raw.githubusercontent.com/erdemarikaneskici/ModdedMCServerWebsite/main/images/create.jpg')",color:'#d76b00',gradient:'135deg, #3b1a00cc, #7a3a00cc'}
};
function showScreen(id){document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));document.getElementById(id).classList.add('active');setTheme(id)}
function setTheme(id){const t=themes[id];document.documentElement.style.setProperty('--bg-image',t.bg);document.documentElement.style.setProperty('--primary-color',t.color);document.documentElement.style.setProperty('--overlay-gradient',t.gradient)}
document.addEventListener('DOMContentLoaded',()=>setTheme('home'));

/* IP kopyalama */
function copyIP(button,ip){navigator.clipboard.writeText(ip).then(()=>{const original=button.innerHTML;button.textContent='Kopyalandı!';button.classList.add('copied');setTimeout(()=>{button.innerHTML=original;button.classList.remove('copied');},1000);}).catch(()=>{alert('Kopyalama desteklenmiyor')})}

/* Server status check (same as before) */
async function checkServerStatus(serverId,address){const statusText=document.getElementById(`status-text-${serverId}`);const indicator=document.getElementById(`status-indicator-${serverId}`);try{const response=await fetch(`https://api.mcsrvstat.us/2/${address}`);const data=await response.json();if(data && data.online){statusText.textContent='Sunucu açık'; if(indicator)indicator.style.backgroundColor='limegreen'}else{statusText.textContent='Sunucu kapalı'; if(indicator)indicator.style.backgroundColor='crimson'}}catch(e){if(statusText)statusText.textContent='Sunucu başlatılıyor veya erişilemedi'; if(indicator)indicator.style.backgroundColor='gold'}}
checkServerStatus('vanilla','oyna.agalarmc.com');checkServerStatus('modded','create.agalarmc.com');setInterval(()=>{checkServerStatus('vanilla','oyna.agalarmc.com');checkServerStatus('modded','create.agalarmc.com');},10000);

/* Launcher drawer controls */
const launcherBtn = document.getElementById('launcherBtn');
const launcherDrawer = document.getElementById('launcherDrawer');
const launcherBg = document.getElementById('launcherBg');
let drawerOpen = false;
launcherBtn.addEventListener('click', ()=>{
  drawerOpen = !drawerOpen;
  launcherDrawer.classList.toggle('open', drawerOpen);
  launcherBg.classList.toggle('hidden', !drawerOpen);
  launcherBtn.setAttribute('aria-expanded', String(drawerOpen));
  launcherDrawer.setAttribute('aria-hidden', String(!drawerOpen));
  // animasyon için küçük gecikme: drawer-contents görünürlüğü JS ile tetikleniyor
  const contents = launcherDrawer.querySelector('.drawer-contents');
  if(drawerOpen){
    // pointer-events aç
    launcherDrawer.style.pointerEvents = 'all';
    setTimeout(()=>{contents.style.maxHeight='240px';contents.style.opacity='1';contents.style.transform='translateY(0)';}, 40);
  } else {
    contents.style.maxHeight='0';contents.style.opacity='0';contents.style.transform='translateY(-10px)';
    setTimeout(()=>{launcherDrawer.style.pointerEvents='none';}, 380);
  }
});

// Modrinth link (placeholder olarak modrinth app linki)
document.getElementById('modrinthLink').href = 'https://modrinth.com/app';

// Prism link: önce kontrol edip indir (aynı davranış korunuyor)
const prismEl = document.getElementById('prismLink');
prismEl.addEventListener('click', async (e)=>{
  e.preventDefault();
  const span = prismEl.querySelector('span');
  span.textContent = 'Kontrol ediliyor...';
  try{
    const resp = await fetch('https://api.github.com/repos/Diegiwg/PrismLauncher-Cracked/releases/latest');
    if(!resp.ok) throw new Error('GitHub');
    const data = await resp.json();
    const asset = (data.assets||[]).find(a=>/mingw-w64-setup\.exe/i.test(a.name));
    if(asset) window.location.href = asset.browser_download_url; else window.open('https://github.com/Diegiwg/PrismLauncher-Cracked/releases/latest','_blank','noopener');
  }catch(err){window.open('https://github.com/Diegiwg/PrismLauncher-Cracked/releases/latest','_blank','noopener')}
  finally{span.textContent='Prism'}
});

function openHelp(){window.open('#','_self')}

</script>
</body>
</html>
